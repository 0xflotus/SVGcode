!function(){"use strict";let e,t;self.addEventListener("message",(l=>{if(l.data.offscreen)return e=l.data.offscreen,void(t=e.getContext("2d"));const{inputImageBitmap:r,posterize:s,rgb:n,width:u,height:b,dpr:p}=l.data;t.scale(p,p),e.width=u,e.height=b;const c=((e,a,l,r)=>(t.clearRect(0,0,l,r),t.filter=a,t.drawImage(e,0,0,e.width,e.height,0,0,l,r),t.getImageData(0,0,l,r)))(r,a(s,n),u,b);l.ports[0].postMessage({result:c})}));const a=(e,t)=>{let a;return e&&(a=new CanvasFilter({componentTransfer:{funcR:{type:"table",tableValues:t.r.map((e=>Number(e)))},funcG:{type:"table",tableValues:t.g.map((e=>Number(e)))},funcB:{type:"table",tableValues:t.b.map((e=>Number(e)))}}})),console.log({funcR:{type:"table",tableValues:t.r.map((e=>Number(e)))},funcG:{type:"table",tableValues:t.g.map((e=>Number(e)))},funcB:{type:"table",tableValues:t.b.map((e=>Number(e)))}}),a}}();
