var R=Object.defineProperty,st=t=>R(t,"__esModule",{value:!0}),m=(t,e)=>()=>(t&&(e=t(t=0)),e),g=(t,e)=>{st(t);for(var n in e)R(t,n,{get:e[n],enumerable:!0})},j={};g(j,{default:()=>V});var V,ot=m(()=>{V=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{let r=document.createElement("input");r.type="file";let o=[...t.map(s=>s.mimeTypes||[]).join(),t.map(s=>s.extensions||[]).join()].join();r.multiple=t[0].multiple||!1,r.accept=o||"";let l=()=>i(n),c=s=>{typeof i=="function"&&i(),e(s)},i=t[0].legacySetup&&t[0].legacySetup(c,l,r);r.addEventListener("change",()=>{c(r.multiple?Array.from(r.files):r.files[0])}),r.click()}))}),H={};g(H,{default:()=>U});var Y,U,at=m(()=>{Y=async t=>{let e=await t.getFile();return e.handle=t,e},U=async(t=[{}])=>{Array.isArray(t)||(t=[t]);let e=[];t.forEach((o,l)=>{e[l]={description:o.description||"",accept:{}},o.mimeTypes?o.mimeTypes.map(c=>{e[l].accept[c]=o.extensions||[]}):e[l].accept["*/*"]=o.extensions||[]});let n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Y));return t[0].multiple?r:r[0]}}),X={};g(X,{default:()=>D});var D,ct=m(()=>{D=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{let r=document.createElement("input");r.type="file",r.webkitdirectory=!0;let o=()=>c(n),l=i=>{typeof c=="function"&&c(),e(i)},c=t[0].legacySetup&&t[0].legacySetup(l,o,r);r.addEventListener("change",()=>{let i=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(i=i.filter(s=>s.webkitRelativePath.split("/").every(a=>!t[0].skipDirectory({name:a,kind:"directory"})))):i=i.filter(s=>s.webkitRelativePath.split("/").length===2),l(i)}),r.click()}))}),O={};g(O,{default:()=>F});var L,F,lt=m(()=>{L=async(t,e,n=t.name,r)=>{let o=[],l=[];for await(let c of t.values()){let i=`${n}/${c.name}`;c.kind==="file"?l.push(c.getFile().then(s=>(s.directoryHandle=t,Object.defineProperty(s,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>i})))):c.kind==="directory"&&e&&(!r||!r(c))&&o.push(L(c,e,i,r))}return[...(await Promise.all(o)).flat(),...await Promise.all(l)]},F=async(t={})=>{t.recursive=t.recursive||!1;let e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn});return L(e,t.recursive,void 0,t.skipDirectory)}}),W={};g(W,{default:()=>N});async function ht(t,e){let n=t.getReader(),r=new ReadableStream({start(l){return c();async function c(){return n.read().then(({done:i,value:s})=>{if(i){l.close();return}return l.enqueue(s),c()})}}}),o=new Response(r);return n.releaseLock(),new Blob([await o.blob()],{type:e})}var N,ut=m(()=>{N=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);let n=document.createElement("a"),r=t;"body"in t&&(r=await ht(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(r);let o=()=>c(reject),l=()=>{typeof c=="function"&&c()},c=e.legacySetup&&e.legacySetup(l,o,n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),30*1e3),l()}),n.click(),null}}),$={};g($,{default:()=>G});var G,dt=m(()=>{G=async(t,e=[{}],n=null,r=!1)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";let o=[];if(e.forEach((i,s)=>{o[s]={description:i.description||"",accept:{}},i.mimeTypes?(s===0&&(t.type?i.mimeTypes.push(t.type):t.headers&&t.headers.get("content-type")&&i.mimeTypes.push(t.headers.get("content-type"))),i.mimeTypes.map(a=>{o[s].accept[a]=i.extensions||[]})):t.type&&(o[s].accept[t.type]=i.extensions||[])}),n)try{await n.getFile()}catch(i){if(n=null,r)throw i}let l=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:o,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),c=await l.createWritable();return"stream"in t?(await t.stream().pipeTo(c),l):"body"in t?(await t.body.pipeTo(c),l):(await c.write(blob),await c.close(),l)}}),pt=(()=>{if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{top.location+""}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),k=pt,ft=k?Promise.resolve().then(()=>(at(),H)):Promise.resolve().then(()=>(ot(),j));async function Lt(...t){return(await ft).default(...t)}k?Promise.resolve().then(()=>(lt(),O)):Promise.resolve().then(()=>(ct(),X));var vt=k?Promise.resolve().then(()=>(dt(),$)):Promise.resolve().then(()=>(ut(),W));async function kt(...t){return(await vt).default(...t)}// @license Â© 2020 Google LLC. Licensed under the Apache License, Version 2.0.
function mt(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function E(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function gt(t,e){const n=mt().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),E(r)});return(r,o)=>n.then(l=>o(l.transaction(e,r).objectStore(e)))}let C;function A(){return C||(C=gt("keyval-store","keyval")),C}function Ct(t,e=A()){return e("readonly",n=>E(n.get(t)))}function At(t,e,n=A()){return n("readwrite",r=>(r.put(e,t),E(r.transaction)))}function Tt(t,e=A()){return e("readwrite",n=>(n.delete(t),E(n.transaction)))}class f{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:w(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const e=this.nativePointer.getCoalescedEvents().map(n=>new f(n));if(e.length>0)return e}return[this]}}const w=t=>"pointerId"in t,T=t=>"changedTouches"in t,K=()=>{};class wt{constructor(e,{start:n=()=>!0,move:r=K,end:o=K,rawUpdates:l=!1,avoidPointerEvents:c=!1}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=i=>{if(w(i)&&i.buttons===0)this._excludeFromButtonsCheck.add(i.pointerId);else if(!(i.buttons&1))return;const s=new f(i);this.currentPointers.some(a=>a.id===s.id)||!this._triggerPointerStart(s,i)||(w(i)?((i.target&&"setPointerCapture"in i.target?i.target:this._element).setPointerCapture(i.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=i=>{for(const s of Array.from(i.changedTouches))this._triggerPointerStart(new f(s),i)},this._move=i=>{if(!T(i)&&(!w(i)||!this._excludeFromButtonsCheck.has(i.pointerId))&&i.buttons===0){this._pointerEnd(i);return}const s=this.currentPointers.slice(),a=T(i)?Array.from(i.changedTouches).map(u=>new f(u)):[new f(i)],h=[];for(const u of a){const d=this.currentPointers.findIndex(p=>p.id===u.id);d!==-1&&(h.push(u),this.currentPointers[d]=u)}h.length!==0&&this._moveCallback(s,h,i)},this._triggerPointerEnd=(i,s)=>{if(!T(s)&&s.buttons&1)return!1;const a=this.currentPointers.findIndex(u=>u.id===i.id);if(a===-1)return!1;this.currentPointers.splice(a,1),this.startPointers.splice(a,1),this._excludeFromButtonsCheck.delete(i.id);const h=!(s.type==="mouseup"||s.type==="touchend"||s.type==="pointerup");return this._endCallback(i,s,h),!0},this._pointerEnd=i=>{if(!!this._triggerPointerEnd(new f(i),i))if(w(i)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=i=>{for(const s of Array.from(i.changedTouches))this._triggerPointerEnd(new f(s),i)},this._startCallback=n,this._moveCallback=r,this._endCallback=o,this._rawUpdates=l&&"onpointerrawupdate"in window,self.PointerEvent&&!c?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,n){return this._startCallback(e,n)?(this.currentPointers.push(e),this.startPointers.push(e),!0):!1}}function yt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var _t=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;yt(_t);const b="min-scale";function Z(t,e){return e?Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2):0}function q(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}function J(t,e){return typeof t=="number"?t:t.trimRight().endsWith("%")?e*parseFloat(t)/100:parseFloat(t)}let Q;function tt(){return Q||(Q=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function I(){return tt().createSVGMatrix()}function et(){return tt().createSVGPoint()}const M=.01;class Et extends HTMLElement{constructor(){super();this._transform=I(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const e=new wt(this,{start:(n,r)=>e.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,e.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[b]}attributeChangedCallback(e,n,r){e===b&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const e=this.getAttribute(b);if(!e)return M;const n=parseFloat(e);return Number.isFinite(n)?Math.max(M,n):M}set minScale(e){this.setAttribute(b,String(e))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(e,n={}){let{originX:r=0,originY:o=0}=n;const{relativeTo:l="content",allowChangeEvent:c=!1}=n,i=l==="content"?this._positioningEl:this;if(!i||!this._positioningEl){this.setTransform({scale:e,allowChangeEvent:c});return}const s=i.getBoundingClientRect();if(r=J(r,s.width),o=J(o,s.height),l==="content")r+=this.x,o+=this.y;else{const a=this._positioningEl.getBoundingClientRect();r-=a.left,o-=a.top}this._applyChange({allowChangeEvent:c,originX:r,originY:o,scaleDiff:e/this.scale})}setTransform(e={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=e;let{x:o=this.x,y:l=this.y}=e;if(!this._positioningEl){this._updateTransform(n,o,l,r);return}const c=this.getBoundingClientRect(),i=this._positioningEl.getBoundingClientRect();if(!c.width||!c.height){this._updateTransform(n,o,l,r);return}let s=et();s.x=i.left-c.left,s.y=i.top-c.top;let a=et();a.x=i.width+s.x,a.y=i.height+s.y;const h=I().translate(o,l).scale(n).multiply(this._transform.inverse());s=s.matrixTransform(h),a=a.matrixTransform(h),s.x>c.width?o+=c.width-s.x:a.x<0&&(o+=-a.x),s.y>c.height?l+=c.height-s.y:a.y<0&&(l+=-a.y),this._updateTransform(n,o,l,r)}_updateTransform(e,n,r,o){if(!(e<this.minScale)&&!(e===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=e,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),o)){const l=new Event("change",{bubbles:!0});this.dispatchEvent(l)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(e){if(!this._positioningEl)return;e.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=e;const{ctrlKey:o,deltaMode:l}=e;l===1&&(r*=15);const i=1-r/(o?100:300);this._applyChange({scaleDiff:i,originX:e.clientX-n.left,originY:e.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(e,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),o=q(e[0],e[1]),l=q(n[0],n[1]),c=o.clientX-r.left,i=o.clientY-r.top,s=Z(e[0],e[1]),a=Z(n[0],n[1]),h=s?a/s:1;this._applyChange({originX:c,originY:i,scaleDiff:h,panX:l.clientX-o.clientX,panY:l.clientY-o.clientY,allowChangeEvent:!0})}_applyChange(e={}){const{panX:n=0,panY:r=0,originX:o=0,originY:l=0,scaleDiff:c=1,allowChangeEvent:i=!1}=e,s=I().translate(n,r).translate(o,l).translate(this.x,this.y).scale(c).translate(-o,-l).scale(this.scale);this.setTransform({allowChangeEvent:i,scale:s.a,x:s.e,y:s.f})}}customElements.define("pinch-zoom",Et);var It='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M14 28c-3.31 0-6 2.69-6 6 0 2.62-2.31 4-4 4 1.84 2.44 4.99 4 8 4 4.42 0 8-3.58 8-8 0-3.31-2.69-6-6-6zM41.41 9.26l-2.67-2.67c-.78-.78-2.05-.78-2.83 0L18 24.5l5.5 5.5 17.91-17.91c.79-.79.79-2.05 0-2.83z"/></svg>',Mt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M42 12H6c-2.21 0-4 1.79-4 4v16c0 2.21 1.79 4 4 4h36c2.21 0 4-1.79 4-4V16c0-2.21-1.79-4-4-4zm0 20H6V16h4v8h4v-8h4v8h4v-8h4v8h4v-8h4v8h4v-8h4v16z"/></svg>',zt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M31.93 20.57l-5.5 7.08-3.93-4.72L17 30h22l-7.07-9.43zM6 10H2v32c0 2.21 1.79 4 4 4h32v-4H6V10zm36-8H14c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V6c0-2.21-1.79-4-4-4zm0 32H14V6h28v28z"/></svg>',Bt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M6 34v4h12v-4H6zm0-24v4h20v-4H6zm20 32v-4h16v-4H26v-4h-4v12h4zM14 18v4H6v4h8v4h4V18h-4zm28 8v-4H22v4h20zm-12-8h4v-4h8v-4h-8V6h-4v12z"/></svg>',Rt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M40 12H24l-4-4H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V16c0-2.21-1.79-4-4-4zm0 24H8V16h32v20z"/></svg>',jt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M34 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V14l-8-8zM24 38c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm6-20H10v-8h20v8z"/></svg>',Vt='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M32 2H8C5.79 2 4 3.79 4 6v28h4V6h24V2zm6 8H16c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4V14c0-2.21-1.79-4-4-4zm0 32H16V14h22v28z"/></svg>',Ht='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M38 4h-8.37c-.82-2.32-3.02-4-5.63-4s-4.81 1.68-5.63 4H10C7.79 4 6 5.79 6 8v32c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4zM24 4c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm14 36H10V8h4v6h20V8h4v32z"/></svg>';try{self["workbox:window:6.4.1"]&&_()}catch{}function nt(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(o){n(o.data)},t.postMessage(e,[r.port2])})}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xt(t,e){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(o,l){if(o){if(typeof o=="string")return rt(o,l);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?rt(o,l):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.4.1"]&&_()}catch{}var z=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function B(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var y=function(t,e){this.type=t,Object.assign(this,e)};function x(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Pt(){}var St={type:"SKIP_WAITING"};function it(t,e){if(!e)return t&&t.then?t.then(Pt):Promise.resolve()}var Yt=function(t){var e,n;function r(i,s){var a,h;return s===void 0&&(s={}),(a=t.call(this)||this).nn={},a.tn=0,a.rn=new z,a.en=new z,a.on=new z,a.un=0,a.an=new Set,a.cn=function(){var u=a.fn,d=u.installing;a.tn>0||!B(d.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=d,u.removeEventListener("updatefound",a.cn)):(a.hn=d,a.an.add(d),a.rn.resolve(d)),++a.tn,d.addEventListener("statechange",a.ln)},a.ln=function(u){var d=a.fn,p=u.target,v=p.state,P=p===a.vn,S={sw:p,isExternal:P,originalEvent:u};!P&&a.mn&&(S.isUpdate=!0),a.dispatchEvent(new y(v,S)),v==="installed"?a.wn=self.setTimeout(function(){v==="installed"&&d.waiting===p&&a.dispatchEvent(new y("waiting",S))},200):v==="activating"&&(clearTimeout(a.wn),P||a.en.resolve(p))},a.dn=function(u){var d=a.hn,p=d!==navigator.serviceWorker.controller;a.dispatchEvent(new y("controlling",{isExternal:p,originalEvent:u,sw:d,isUpdate:a.mn})),p||a.on.resolve(d)},a.gn=(h=function(u){var d=u.data,p=u.ports,v=u.source;return x(a.getSW(),function(){a.an.has(v)&&a.dispatchEvent(new y("message",{data:d,originalEvent:u,ports:p,sw:v}))})},function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];try{return Promise.resolve(h.apply(this,u))}catch(p){return Promise.reject(p)}}),a.sn=i,a.nn=s,navigator.serviceWorker.addEventListener("message",a.gn),a}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o,l,c=r.prototype;return c.register=function(i){var s=(i===void 0?{}:i).immediate,a=s!==void 0&&s;try{var h=this;return function(u,d){var p=u();return p&&p.then?p.then(d):d(p)}(function(){if(!a&&document.readyState!=="complete")return it(new Promise(function(u){return window.addEventListener("load",u)}))},function(){return h.mn=Boolean(navigator.serviceWorker.controller),h.yn=h.pn(),x(h.bn(),function(u){h.fn=u,h.yn&&(h.hn=h.yn,h.en.resolve(h.yn),h.on.resolve(h.yn),h.yn.addEventListener("statechange",h.ln,{once:!0}));var d=h.fn.waiting;return d&&B(d.scriptURL,h.sn.toString())&&(h.hn=d,Promise.resolve().then(function(){h.dispatchEvent(new y("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),h.hn&&(h.rn.resolve(h.hn),h.an.add(h.hn)),h.fn.addEventListener("updatefound",h.cn),navigator.serviceWorker.addEventListener("controllerchange",h.dn),h.fn})})}catch(u){return Promise.reject(u)}},c.update=function(){try{return this.fn?it(this.fn.update()):void 0}catch(i){return Promise.reject(i)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(i){try{return x(this.getSW(),function(s){return nt(s,i)})}catch(s){return Promise.reject(s)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&nt(this.fn.waiting,St)},c.pn=function(){var i=navigator.serviceWorker.controller;return i&&B(i.scriptURL,this.sn.toString())?i:void 0},c.bn=function(){try{var i=this;return function(s,a){try{var h=s()}catch(u){return a(u)}return h&&h.then?h.then(void 0,a):h}(function(){return x(navigator.serviceWorker.register(i.sn,i.nn),function(s){return i.un=performance.now(),s})},function(s){throw s})}catch(s){return Promise.reject(s)}},o=r,(l=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&bt(o.prototype,l),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,o=xt(this.Sn(n.type));!(r=o()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());export{kt as G,Lt as M,jt as a,Bt as b,Vt as c,Tt as d,It as e,k as f,Ct as g,Mt as h,zt as i,Rt as o,Ht as p,At as s,Yt as v};
